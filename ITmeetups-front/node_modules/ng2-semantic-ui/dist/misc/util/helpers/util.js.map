{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../../src/misc/util/helpers/util.ts"],"names":[],"mappings":"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","sourcesContent":["// Keyboard keycodes.\r\nexport enum KeyCode {\r\n    Left = 37,\r\n    Up = 38,\r\n    Right = 39,\r\n    Down = 40,\r\n\r\n    Escape = 27,\r\n    Enter = 13,\r\n\r\n    Space = 32,\r\n    Backspace = 8\r\n}\r\n\r\ninterface IRecursiveObject { [name:string]:IRecursiveObject; }\r\n\r\nexport interface ITemplateRefContext<T> { $implicit:T; }\r\n\r\nexport interface IAugmentedElement extends Element {\r\n    closest(selector:string):IAugmentedElement;\r\n}\r\n\r\nexport class HandledEvent {\r\n    public eventHandled:boolean;\r\n}\r\n\r\nexport interface IDynamicClasses {\r\n    [name:string]:true;\r\n}\r\n\r\nexport const Util = {\r\n    Array: {\r\n        range(n:number, offset:number = 0):number[] {\r\n            return Array(n).fill(0).map((z, i) => i + offset);\r\n        },\r\n        group<T>(items:T[], groupLength:number):T[][] {\r\n            const mutable = items.slice(0);\r\n\r\n            const groups:T[][] = [];\r\n            while (mutable.length > 0) {\r\n                groups.push(mutable.splice(0, groupLength));\r\n            }\r\n            return groups;\r\n        },\r\n        groupBy<T>(items:T[], field:keyof T):{ [name:string]:T[] } {\r\n            return items.reduce<{ [name:string]:T[] }>(\r\n                (groups, i) => {\r\n                    const fieldValue = i[field].toString();\r\n                    groups[fieldValue] = groups[fieldValue] || [];\r\n                    groups[fieldValue].push(i);\r\n                    return groups;\r\n                },\r\n                Object());\r\n        },\r\n        flatten<T>(items:T[][]):T[] {\r\n            return items.reduce((is, i) => is.concat(i), []);\r\n        }\r\n    },\r\n\r\n    String: {\r\n        padLeft(str:string, length:number, padding:string):string {\r\n            let s = str;\r\n            while (s.length < length) {\r\n                s = padding + s;\r\n            }\r\n            return s;\r\n        }\r\n    },\r\n\r\n    DOM: {\r\n        parseBooleanAttribute(attributeValue:boolean):boolean {\r\n            let value = attributeValue;\r\n            if (typeof attributeValue === \"string\") {\r\n                value = true;\r\n            }\r\n\r\n            return value;\r\n        }\r\n    },\r\n\r\n    Object: {\r\n        readValue<T, U>(object:T, path?:string):U {\r\n            if (!path) {\r\n                return object as any as U;\r\n            }\r\n\r\n            let recursed:IRecursiveObject | undefined;\r\n\r\n            for (let i = 0, p = path.split(\".\"), len = p.length; i < len; i++) {\r\n                recursed = (object as any as IRecursiveObject)[p[i]];\r\n            }\r\n\r\n            return recursed as any as U;\r\n        }\r\n    },\r\n\r\n    Math: {\r\n        round(r:number, n:number):number {\r\n            return Math.round(r / n) * n;\r\n        },\r\n        roundUp(r:number, n:number):number {\r\n            return Math.ceil(r / n) * n;\r\n        },\r\n        roundDown(r:number, n:number):number {\r\n            return Math.floor(r / n) * n;\r\n        },\r\n        mod(r:number, n:number):number {\r\n            const rem = r % n;\r\n            if (rem < 0) {\r\n                return rem + n;\r\n            }\r\n            return rem;\r\n        }\r\n    }\r\n};\r\n"]}