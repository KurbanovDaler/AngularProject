{"version":3,"file":"tab-header.js","sourceRoot":"","sources":["../../../../src/modules/tabs/directives/tab-header.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,KAAK,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;;IAuE9F;QACI,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,IAAI,YAAY,EAAW,CAAC;QAClD,IAAI,CAAC,sBAAsB,GAAG,IAAI,YAAY,EAAW,CAAC;QAE1D,IAAI,CAAC,UAAU,GAAG,IAAI,YAAY,EAAQ,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAQ,CAAC;QAE7C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAC9B;0BAlDU,kCAAQ;;YACf,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;;aAG1B,UAAoB,MAAc;YAAlC,iBAaC;YAZG,IAAI,QAAQ,GAAG,MAAM,CAAC;;;;YAItB,UAAU,CAAC;;gBAEP,QAAQ,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC;gBAC7C,KAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;;gBAG9B,AADA,0DAA0D;gBAC1D,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC9C,CAAC,CAAC;SACN;;;;0BAMU,oCAAU;;YACjB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;;aAG5B,UAAsB,QAAgB;;YAElC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;;gBAG5B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACzB;aACJ;SACJ;;;;IAeD,kCAAkC;;IAC3B,qCAAc;;IAArB,UAAsB,MAAc;;QAEhC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,MAAM,CAAC,CAAC,CAAC;;YAE9B,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;;YAGxB,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;aAC1B;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;aAC5B;SACJ;;QAGD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACpC;IAGO,8BAAO;QACX,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;;YAEnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACxB;;;gBA1GR,SAAS,SAAC;oBACP,QAAQ,EAAE,gBAAgB;iBAC7B;;;;;mCAEI,WAAW,SAAC,YAAY;uBAGxB,KAAK,SAAC,cAAc;mCAOpB,MAAM;+BAON,MAAM,SAAC,UAAU;iCAIjB,MAAM,SAAC,YAAY;6BAGnB,WAAW,SAAC,cAAc,cAC1B,KAAK;+BAsBL,WAAW,SAAC,gBAAgB,cAC5B,KAAK;4BAiDL,YAAY,SAAC,OAAO;;uBAvGzB;;SAKa,YAAY","sourcesContent":["import { HostBinding, Input, Directive, EventEmitter, HostListener, Output } from \"@angular/core\";\r\n\r\n@Directive({\r\n    selector: \"[suiTabHeader]\"\r\n})\r\nexport class SuiTabHeader {\r\n    @HostBinding(\"class.item\")\r\n    private _headerClasses:boolean;\r\n\r\n    @Input(\"suiTabHeader\")\r\n    public id:string;\r\n\r\n    // Internally keeps track of whether the header is active.\r\n    private _isActive:boolean;\r\n\r\n    // Enables use of [(isActive)] so state can be set using booleans.\r\n    @Output()\r\n    public isActiveChange:EventEmitter<boolean>;\r\n\r\n    // Fires only when `isActive` changes due to user input.\r\n    public isActiveExternalChange:EventEmitter<boolean>;\r\n\r\n    // Fires whenever a tab is activated having previously been deactivated.\r\n    @Output(\"activate\")\r\n    public onActivate:EventEmitter<void>;\r\n\r\n    // Fires whenever a tab is deactivated having previously been activated.\r\n    @Output(\"deactivate\")\r\n    public onDeactivate:EventEmitter<void>;\r\n\r\n    @HostBinding(\"class.active\")\r\n    @Input()\r\n    public get isActive():boolean {\r\n        return this._isActive;\r\n    }\r\n\r\n    public set isActive(active:boolean) {\r\n        let isActive = active;\r\n        // Only used by @Input(), runs whenever user input changes `isActive`.\r\n        // Run in timeout because `isDisabled` can prohibit user from changing `isActive`.\r\n        // so update is delayed to avoid 'changed after checked' error.\r\n        setTimeout(() => {\r\n            // Only allow change if tab header is not disabled.\r\n            isActive = !this.isDisabled ? active : false;\r\n            this.setActiveState(isActive);\r\n\r\n            // Fire 'external change' event as user input has occured.\r\n            this.isActiveExternalChange.emit(isActive);\r\n        });\r\n    }\r\n\r\n    private _isDisabled:boolean;\r\n\r\n    @HostBinding(\"class.disabled\")\r\n    @Input()\r\n    public get isDisabled():boolean {\r\n        return this._isDisabled;\r\n    }\r\n\r\n    public set isDisabled(disabled:boolean) {\r\n        // Only update if value provided is different to current one.\r\n        if (this._isDisabled !== disabled) {\r\n            this._isDisabled = disabled;\r\n\r\n            // If now disabled, then tab header must be deactivated.\r\n            if (this.isDisabled) {\r\n                this.isActive = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    constructor() {\r\n        this._isActive = false;\r\n        this.isActiveChange = new EventEmitter<boolean>();\r\n        this.isActiveExternalChange = new EventEmitter<boolean>();\r\n\r\n        this.onActivate = new EventEmitter<void>();\r\n        this.onDeactivate = new EventEmitter<void>();\r\n\r\n        this.isDisabled = false;\r\n\r\n        this._headerClasses = true;\r\n    }\r\n\r\n    // Internally update active state.\r\n    public setActiveState(active:boolean):void {\r\n        // If (cast) active value has changed:\r\n        if (!!this._isActive !== active) {\r\n            // Update to the new value.\r\n            this._isActive = active;\r\n\r\n            // Fire the appropriate activation event.\r\n            if (active) {\r\n                this.onActivate.emit();\r\n            } else {\r\n                this.onDeactivate.emit();\r\n            }\r\n        }\r\n\r\n        // Regardless, emit a change to `isActive`, so [(isActive)] works correctly.\r\n        this.isActiveChange.emit(active);\r\n    }\r\n\r\n    @HostListener(\"click\")\r\n    private onClick():void {\r\n        if (!this.isDisabled) {\r\n            // Activate the tab when clicked, so long as it isn't disabled.\r\n            this.isActive = true;\r\n        }\r\n    }\r\n}\r\n"]}