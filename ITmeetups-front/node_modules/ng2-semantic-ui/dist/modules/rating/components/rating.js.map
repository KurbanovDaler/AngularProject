{"version":3,"file":"rating.js","sourceRoot":"","sources":["../../../../src/modules/rating/components/rating.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC7G,OAAO,EAA4B,0BAA0B,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;;IAmDjH;4BAF6B,CAAC,CAAC;QAG3B,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,IAAI,YAAY,EAAU,CAAC;QAE9C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAExB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAC9B;0BA3BU,8BAAO;;YACd,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;aAGzB,UAAmB,KAAY;YAC3B,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,CAAC;SAC1B;;;;IAMD,sBAAW,4BAAK;aAAhB;;YAEI,MAAM,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAClC;;;OAAA;IAcM,2BAAO,GAAd,UAAe,CAAQ;QACnB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACrC;KACJ;IAEM,+BAAW,GAAlB,UAAmB,CAAQ;QACvB,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;KACzB;IAGM,8BAAU;QACb,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;;IAGpB,8BAAU,GAAjB,UAAkB,KAAY;QAC1B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;;gBA7EJ,SAAS,SAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE,uOAQb;oBACG,MAAM,EAAE,CAAC,kDAIZ,CAAC;iBACD;;;;;mCAEI,WAAW,SAAC,UAAU,cACtB,WAAW,SAAC,cAAc;gCAK1B,MAAM;4BAKN,KAAK;+BASL,WAAW,SAAC,iBAAiB,cAC7B,KAAK;+BA+BL,YAAY,SAAC,UAAU;;oBAzE5B;;SAoBa,SAAS;;IAoEsB,0CAAsC;IAC9E,gCAAY,IAAc;eACtB,kBAAM,IAAI,CAAC;KACd;;gBARJ,SAAS,SAAC;oBACP,QAAQ,EAAE,YAAY;oBACtB,IAAI,EAAE,EAAE,eAAe,EAAE,kBAAkB,EAAE;oBAC7C,SAAS,EAAE,CAAC,0BAA0B,CAAC,sBAAsB,CAAC,CAAC;iBAClE;;;;gBAnEY,SAAS;;iCApBtB;EAwF4C,mBAAmB;SAAlD,sBAAsB","sourcesContent":["import { Component, Directive, Input, Output, EventEmitter, HostBinding, HostListener } from \"@angular/core\";\r\nimport { ICustomValueAccessorHost, customValueAccessorFactory, CustomValueAccessor } from \"../../../misc/util/index\";\r\n\r\n@Component({\r\n    selector: \"sui-rating\",\r\n    template: `\r\n<i class=\"icon\"\r\n   *ngFor=\"let icon of icons; let i = index\"\r\n   (mouseover)=\"onMouseover(i)\"\r\n   (click)=\"onClick(i)\"\r\n   [class.selected]=\"hoveredIndex >= i && !isReadonly\"\r\n   [class.active]=\"value > i\">\r\n</i>\r\n`,\r\n    styles: [`\r\n:host.read-only .icon {\r\n    cursor: auto\r\n}\r\n`]\r\n})\r\nexport class SuiRating implements ICustomValueAccessorHost<number> {\r\n    @HostBinding(\"class.ui\")\r\n    @HostBinding(\"class.rating\")\r\n    private _ratingClasses:boolean;\r\n\r\n    public value:number;\r\n\r\n    @Output()\r\n    public valueChange:EventEmitter<number>;\r\n\r\n    private _maximum:number;\r\n\r\n    @Input()\r\n    public get maximum():number {\r\n        return this._maximum;\r\n    }\r\n\r\n    public set maximum(value:number) {\r\n        this._maximum = +value;\r\n    }\r\n\r\n    @HostBinding(\"class.read-only\")\r\n    @Input()\r\n    public isReadonly:boolean;\r\n\r\n    public get icons():undefined[] {\r\n        // tslint:disable-next-line:prefer-literal\r\n        return new Array(this.maximum);\r\n    }\r\n\r\n    public hoveredIndex:number = -1;\r\n\r\n    constructor() {\r\n        this.value = 0;\r\n        this.valueChange = new EventEmitter<number>();\r\n\r\n        this.maximum = 5;\r\n        this.isReadonly = false;\r\n\r\n        this._ratingClasses = true;\r\n    }\r\n\r\n    public onClick(i:number):void {\r\n        if (!this.isReadonly) {\r\n            this.value = i + 1;\r\n            this.valueChange.emit(this.value);\r\n        }\r\n    }\r\n\r\n    public onMouseover(i:number):void {\r\n        this.hoveredIndex = i;\r\n    }\r\n\r\n    @HostListener(\"mouseout\")\r\n    public onMouseout():void {\r\n        this.hoveredIndex = -1;\r\n    }\r\n\r\n    public writeValue(value:number):void {\r\n        this.value = value;\r\n    }\r\n}\r\n\r\n@Directive({\r\n    selector: \"sui-rating\",\r\n    host: { \"(valueChange)\": \"onChange($event)\" },\r\n    providers: [customValueAccessorFactory(SuiRatingValueAccessor)]\r\n})\r\nexport class SuiRatingValueAccessor extends CustomValueAccessor<number, SuiRating> {\r\n    constructor(host:SuiRating) {\r\n        super(host);\r\n    }\r\n}\r\n"]}