{"version":3,"file":"sidebar.service.js","sourceRoot":"","sources":["../../../../src/modules/sidebar/services/sidebar.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { EventEmitter } from \"@angular/core\";\r\n\r\nexport type SidebarTransition = \"overlay\" | \"push\" | \"scale down\" | \"uncover\" | \"slide along\" | \"slide out\";\r\n\r\nexport const SidebarTransition = {\r\n    Overlay: \"overlay\" as SidebarTransition,\r\n    Push: \"push\" as SidebarTransition,\r\n    ScaleDown: \"scale down\" as SidebarTransition,\r\n    Uncover: \"uncover\" as SidebarTransition,\r\n    SlideAlong: \"slide along\" as SidebarTransition,\r\n    SlideOut: \"slide out\" as SidebarTransition\r\n};\r\n\r\nexport type SidebarDirection = \"left\" | \"right\" | \"top\" | \"bottom\";\r\n\r\nexport const SidebarDirection = {\r\n    Left: \"left\" as SidebarDirection,\r\n    Right: \"right\" as SidebarDirection,\r\n    Top: \"top\" as SidebarDirection,\r\n    Bottom: \"bottom\" as SidebarDirection\r\n};\r\n\r\nexport class SidebarService {\r\n    public isVisible:boolean;\r\n    public isAnimating:boolean;\r\n    public wasJustOpened:boolean;\r\n\r\n    public direction:SidebarDirection;\r\n\r\n    private _width:number;\r\n    private _height:number;\r\n\r\n    public get width():number {\r\n        if (this.direction === SidebarDirection.Left) {\r\n            return this._width;\r\n        }\r\n        if (this.direction === SidebarDirection.Right) {\r\n            return -this._width;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public set width(width:number) {\r\n        this._width = width;\r\n        this.widthChange.emit();\r\n    }\r\n\r\n    public get height():number {\r\n        if (this.direction === SidebarDirection.Top) {\r\n            return this._height;\r\n        }\r\n        if (this.direction === SidebarDirection.Bottom) {\r\n            return -this._height;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    public set height(height:number) {\r\n        this._height = height;\r\n        this.heightChange.emit();\r\n    }\r\n\r\n    public isVisibleChange:EventEmitter<boolean>;\r\n    public widthChange:EventEmitter<void>;\r\n    public heightChange:EventEmitter<void>;\r\n\r\n    private _isAnimatingTimeout:number;\r\n\r\n    public transition:SidebarTransition;\r\n\r\n    constructor(isVisible:boolean = false) {\r\n        this.isVisible = isVisible;\r\n        this.isAnimating = false;\r\n        this.wasJustOpened = false;\r\n\r\n        this.isVisibleChange = new EventEmitter<boolean>();\r\n        this.widthChange = new EventEmitter<void>();\r\n        this.heightChange = new EventEmitter<void>();\r\n\r\n        this.width = 260;\r\n        this.height = 0;\r\n\r\n        this.transition = SidebarTransition.Uncover;\r\n    }\r\n\r\n    public setVisibleState(isVisible:boolean):void {\r\n        if (this.isVisible !== isVisible) {\r\n            this.isVisible = isVisible;\r\n            this.isAnimating = true;\r\n            this.wasJustOpened = true;\r\n\r\n            this.isVisibleChange.emit(isVisible);\r\n\r\n            setTimeout(() => this.wasJustOpened = false);\r\n            clearTimeout(this._isAnimatingTimeout);\r\n            this._isAnimatingTimeout = window.setTimeout(() => this.isAnimating = false, 500);\r\n        }\r\n    }\r\n\r\n    public toggleVisibleState():void {\r\n        this.setVisibleState(!this.isVisible);\r\n    }\r\n}\r\n"]}